#include "svpng.inc" #include <math.h> #include <stdlib.h> #define TWO_PI 6.283185 30718f int main() { unsigned char* p = img; for (int y = 0; y < H; y++) for (int x = 0; x < W; x++, p += 3) p[0] = p[1] = p[2] = (int)(fminf(sample((float)x / W, (float)y / H) * 255.0f, 255.0f)); svpng(fopen("basic2.png", "wb"), W, H, img, 0); }